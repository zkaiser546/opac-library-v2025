
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .profile-container {
            transition: all 0.3s ease;
        }
        .profile-container:hover {
            transform: translateY(-2px);
        }
        .remove-btn {
            transition: all 0.2s ease;
        }
        .remove-btn:hover {
            transform: scale(1.1);
        }
        .input-focus:focus {
            box-shadow: 0 0 0 3px rgba(128, 0, 0, 0.2);
        }
        .otp-input {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 1.2rem;
            margin: 0 5px;
        }
        .otp-input:focus {
            outline: 2px solid #800000;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .active-tab {
            color: #800000;
            border-bottom-color: #800000;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
<div id="account-settings" class="p-4 md:p-8 max-w-5xl mx-auto">
    <!-- Header Section -->
    <div class="mb-8">
        <h2 class="text-2xl md:text-3xl font-bold text-usepmaroon">Staff Account Settings</h2>
        <p class="text-gray-500 mt-1">Manage your profile and security settings</p>
    </div>

    <!-- Tabs Navigation -->
    <div class="mb-6">
        <div class="flex border-b border-gray-200">
            <button data-tab="profile" class="tab-btn py-3 px-6 font-medium text-gray-500 hover:text-usepmaroon border-b-2 border-transparent hover:border-usepmaroon transition-all active-tab">
                <i class="fas fa-user mr-2"></i>Profile
            </button>
            <button data-tab="security" class="tab-btn py-3 px-6 font-medium text-gray-500 hover:text-usepmaroon border-b-2 border-transparent hover:border-usepmaroon transition-all">
                <i class="fas fa-lock mr-2"></i>Security
            </button>
        </div>
    </div>

    <!-- Profile Tab Content -->
    <div id="profile-tab" class="tab-content active bg-white rounded-xl shadow-usep p-6">
        <!-- Profile Picture Section -->
        <div class="mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Profile Details</h3>
            <div class="flex flex-col items-start space-y-4">
                <div class="profile-container relative group">
                    <!-- Image Preview -->
                    <div id="image-preview">
                        <img id="preview-image" src="https://via.placeholder.com/150" alt="Profile Preview" class="w-32 h-32 rounded-full object-cover border-4 border-usepgold shadow-lg transform transition duration-300 group-hover:scale-105">
                        <button onclick="removeImage()" class="remove-btn absolute -top-2 -right-2 bg-usepmaroon text-white rounded-full w-8 h-8 flex items-center justify-center shadow-md hover:bg-red-700">
                            <i class="fas fa-times text-sm"></i>
                        </button>
                    </div>
                </div>
                <div class="flex space-x-3">
                    <label class="px-4 py-2 bg-usepmaroon text-white rounded-lg hover:bg-usepmaroon/90 cursor-pointer flex items-center shadow-sm transition-all hover:shadow">
                        <i class="fas fa-upload mr-2"></i>Change photo
                        <input type="file" id="image-upload" class="hidden" accept="image/jpeg,image/png,image/gif">
                    </label>
                    <button onclick="removeImage()" class="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 flex items-center shadow-sm transition-all hover:shadow">
                        <i class="fas fa-redo mr-2"></i>Reset
                    </button>
                </div>
                <p class="text-sm text-gray-500">Allowed JPG, GIF or PNG. Max size of 2MB</p>
            </div>
        </div>

        <!-- Form Fields -->
        <div class="space-y-6">
            <!-- First Row -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                    <input type="text" value="Juan" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Middle Name</label>
                    <input type="text" value="Reyes" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                    <input type="text" value="Dela Cruz" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
            </div>

            <!-- Second Row -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Position</label>
                    <input type="text" value="Librarian" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">E-mail</label>
                    <input type="email" value="juan.delacruz@usep.edu.ph" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
            </div>

            <!-- Third Row -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Mobile Number</label>
                    <div class="flex">
                        <select class="w-1/4 px-3 py-2.5 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon bg-gray-50">
                            <option>PH (+63)</option>
                        </select>
                        <input type="tel" value="9123456789" class="w-3/4 px-4 py-2.5 border-t border-r border-b border-gray-300 rounded-r-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                    <input type="text" value="jdelacruz" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                </div>
            </div>
        </div>

        <!-- Save Button -->
        <div class="flex justify-end mt-8">
            <button class="px-8 py-3 bg-usepmaroon text-white rounded-lg hover:bg-usepmaroon/90 flex items-center shadow-md hover:shadow-lg transition-all transform hover:-translate-y-0.5">
                <i class="fas fa-save mr-2"></i>Update Profile
            </button>
        </div>
    </div>

    <!-- Security Tab Content -->
    <div id="security-tab" class="tab-content bg-white rounded-xl shadow-usep p-6">
        <h3 class="text-lg font-semibold text-gray-800 mb-6">Change Password</h3>

        <!-- Current Password -->
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">Current Password</label>
            <div class="relative">
                <input type="password" id="current-password" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                <button class="toggle-password absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-usepmaroon">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>

        <!-- New Password -->
        <div class="mb-6">
            <label class="block text-sm font-medium text-gray-700 mb-2">New Password</label>
            <div class="relative">
                <input type="password" id="new-password" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                <button class="toggle-password absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-usepmaroon">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            <div class="mt-2 text-xs text-gray-500">
                <p>Password must contain:</p>
                <ul class="list-disc pl-5">
                    <li>At least 8 characters</li>
                    <li>One uppercase letter</li>
                    <li>One lowercase letter</li>
                    <li>One number</li>
                    <li>One special character</li>
                </ul>
            </div>
        </div>

        <!-- Confirm New Password -->
        <div class="mb-8">
            <label class="block text-sm font-medium text-gray-700 mb-2">Confirm New Password</label>
            <div class="relative">
                <input type="password" id="confirm-password" class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-usepmaroon focus:border-usepmaroon shadow-sm input-focus transition">
                <button class="toggle-password absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-usepmaroon">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
        </div>

        <!-- OTP Verification Section (Initially hidden) -->
        <div id="otp-section" class="hidden mb-8 p-4 bg-usepgoldlight rounded-lg border border-usepgold">
            <h4 class="text-md font-medium text-gray-800 mb-4">Verify Your Identity</h4>
            <p class="text-sm text-gray-600 mb-4">We've sent a 6-digit verification code to your email <span class="font-medium">juan.delacruz@usep.edu.ph</span>. Please enter it below:</p>

            <div class="flex justify-center mb-4">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 1)">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 2)">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 3)">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 4)">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 5)">
                <input type="text" maxlength="1" class="otp-input border border-gray-300 rounded-lg" oninput="moveToNext(this, 6)">
            </div>

            <div class="flex items-center justify-between">
                <button id="resend-otp" class="text-sm text-usepmaroon hover:underline disabled:text-gray-400" disabled>
                    Resend code in <span id="countdown">60</span> seconds
                </button>
                <button id="verify-otp" class="px-4 py-2 bg-usepmaroon text-white rounded-lg hover:bg-usepmaroon/90 shadow-sm">
                    Verify
                </button>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-end space-x-4 mt-8">
            <button id="cancel-btn" class="px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 shadow-sm transition-all">
                Cancel
            </button>
            <button id="request-otp-btn" class="px-6 py-2.5 bg-usepmaroon text-white rounded-lg hover:bg-usepmaroon/90 shadow-sm transition-all transform hover:-translate-y-0.5">
                Request OTP
            </button>
            <button id="change-password-btn" class="hidden px-6 py-2.5 bg-usepmaroon text-white rounded-lg hover:bg-usepmaroon/90 shadow-sm transition-all transform hover:-translate-y-0.5">
                Change Password
            </button>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Tab Switching
        const tabButtons = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        function switchTab(tabId) {
            // Update active tab button
            tabButtons.forEach(btn => {
                btn.classList.remove('active-tab', 'text-usepmaroon', 'border-usepmaroon');
                if(btn.getAttribute('data-tab') === tabId) {
                    btn.classList.add('active-tab', 'text-usepmaroon', 'border-usepmaroon');
                }
            });

            // Show corresponding tab content
            tabContents.forEach(content => {
                content.classList.remove('active');
                if(content.id === `${tabId}-tab`) {
                    content.classList.add('active');
                }
            });
        }

        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                switchTab(tabId);
            });
        });

        // Initialize with profile tab active
        switchTab('profile');

        // Image Upload Preview
        const imageUpload = document.getElementById('image-upload');
        const previewImage = document.getElementById('preview-image');

        imageUpload.addEventListener('change', function() {
            if (this.files && this.files[0]) {
                // Check file size (max 2MB)
                if (this.files[0].size > 2 * 1024 * 1024) {
                    alert('File size exceeds 2MB limit');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    previewImage.src = e.target.result;
                }
                reader.readAsDataURL(this.files[0]);
            }
        });

        // Password visibility toggle
        const toggleButtons = document.querySelectorAll('.toggle-password');

        toggleButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const input = this.previousElementSibling;
                const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
                input.setAttribute('type', type);
                this.innerHTML = type === 'password' ? '<i class="fas fa-eye"></i>' : '<i class="fas fa-eye-slash"></i>';
            });
        });

        // OTP Request Flow
        const requestOtpBtn = document.getElementById('request-otp-btn');
        const otpSection = document.getElementById('otp-section');
        const changePasswordBtn = document.getElementById('change-password-btn');
        const cancelBtn = document.getElementById('cancel-btn');
        const resendOtpBtn = document.getElementById('resend-otp');
        const verifyOtpBtn = document.getElementById('verify-otp');
        let countdownInterval;

        if (requestOtpBtn) {
            requestOtpBtn.addEventListener('click', function() {
                // Validate passwords first
                const currentPassword = document.getElementById('current-password').value;
                const newPassword = document.getElementById('new-password').value;
                const confirmPassword = document.getElementById('confirm-password').value;

                if (!currentPassword || !newPassword || !confirmPassword) {
                    alert('Please fill in all password fields');
                    return;
                }

                if (newPassword !== confirmPassword) {
                    alert('New passwords do not match');
                    return;
                }

                // Show OTP section
                otpSection.classList.remove('hidden');
                requestOtpBtn.classList.add('hidden');
                changePasswordBtn.classList.remove('hidden');

                // Start countdown for resend OTP
                startCountdown();

                // Simulate sending OTP (in a real app, this would be an API call)
                console.log('OTP sent to email');
            });
        }

        if (cancelBtn) {
            cancelBtn.addEventListener('click', function() {
                // Reset the form
                otpSection.classList.add('hidden');
                requestOtpBtn.classList.remove('hidden');
                changePasswordBtn.classList.add('hidden');
                clearInterval(countdownInterval);
                document.getElementById('countdown').textContent = '60';
                resendOtpBtn.disabled = true;

                // Clear OTP inputs
                document.querySelectorAll('.otp-input').forEach(input => {
                    input.value = '';
                });
            });
        }

        if (resendOtpBtn) {
            resendOtpBtn.addEventListener('click', function() {
                // Simulate resending OTP
                console.log('Resending OTP...');
                startCountdown();
            });
        }

        if (verifyOtpBtn) {
            verifyOtpBtn.addEventListener('click', function() {
                // Validate OTP (in a real app, this would verify with server)
                const otpInputs = document.querySelectorAll('.otp-input');
                let otp = '';
                otpInputs.forEach(input => {
                    otp += input.value;
                });

                if (otp.length !== 6) {
                    alert('Please enter the complete 6-digit OTP');
                    return;
                }

                // Simulate successful verification
                alert('Password changed successfully!');

                // Reset form
                otpSection.classList.add('hidden');
                requestOtpBtn.classList.remove('hidden');
                changePasswordBtn.classList.add('hidden');
                document.getElementById('current-password').value = '';
                document.getElementById('new-password').value = '';
                document.getElementById('confirm-password').value = '';
                clearInterval(countdownInterval);
                document.getElementById('countdown').textContent = '60';
                resendOtpBtn.disabled = true;

                // Switch back to profile tab
                switchTab('profile');
            });
        }

        function startCountdown() {
            let seconds = 60;
            resendOtpBtn.disabled = true;

            countdownInterval = setInterval(function() {
                seconds--;
                document.getElementById('countdown').textContent = seconds;

                if (seconds <= 0) {
                    clearInterval(countdownInterval);
                    resendOtpBtn.disabled = false;
                    document.getElementById('countdown').textContent = '60';
                }
            }, 1000);
        }
    });

    function removeImage() {
        const imageUpload = document.getElementById('image-upload');
        const previewImage = document.getElementById('preview-image');

        imageUpload.value = '';
        previewImage.src = 'https://via.placeholder.com/150';
    }

    function moveToNext(current, next) {
        if (current.value.length === 1) {
            if (next <= 6) {
                const nextInput = document.querySelector(`.otp-input:nth-child(${next})`);
                if (nextInput) nextInput.focus();
            }
        }
    }
</script>
